(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7499:function(e,l,t){Promise.resolve().then(t.bind(t,8501))},8501:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return m}});var s=t(9268),r=t(6006),a=t(8382),i=t(6832),c=t(283),n=t(3687),o=t(5846),u=t.n(o),d=t(857),x=e=>{let{current:l,variants:t,mutateFunction:a,mutateVariants:n}=e,[o,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[f,p]=(0,r.useState)("");return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsxs)("div",{className:"w-full cursor-pointer flex justify-between relative placeholder:text-blue placeholder:text-opacity-50 p-3 font-semibold text-blue border-blue border-2 focus:border-orange focus:outline-0",onClick:()=>{u(!o)},children:[(0,s.jsx)("p",{children:l}),(0,s.jsx)("img",{className:(0,d.s)("w-4 duration-300 transition-all aspect-square",o?"rotate-90":""),src:"/images/icons/arrow_right_orange.svg"})]}),o?(0,s.jsxs)("div",{className:"w-full mt-2",children:[t.map((e,t)=>{if(e!=l)return(0,s.jsx)("div",{className:(0,d.s)("w-full cursor-pointer relative placeholder:text-blue placeholder:text-opacity-50 p-3 font-semibold text-blue border-blue border-2 focus:border-orange focus:outline-0"),onClick:()=>{a(e),u(!o)},children:(0,s.jsx)("p",{children:e})},t)}),(0,s.jsxs)("div",{className:(0,d.s)("w-full gap-3 font-white flex items-center justify-center font-bold text-white cursor-pointer relative bg-blue p-3"),onClick:()=>{m(!x)},children:[(0,s.jsx)("p",{children:"Добавить новый склад"}),(0,s.jsx)("img",{src:"/images/icons/add_white.svg",className:"w-6 aspect-square"})]})]}):null,x?(0,s.jsx)("div",{className:"fixed z-[9999] flex items-center justify-center w-full h-full left-0 top-0 bg-black bg-opacity-70",children:(0,s.jsxs)("div",{className:"relative w-[600px] p-5 bg-white rounded-xl gap-5 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"text-blue text-3xl font-bold",children:"Добавить новый склад"}),(0,s.jsx)("img",{onClick:()=>{m(!x)},className:"w-7 cursor-pointer aspect-square",src:"/images/icons/close_orange.svg"})]}),(0,s.jsx)(i.Z,{placeholder:"Введите адрес склада",type:"text",mutateFunction:p,mutateValue:f}),(0,s.jsx)(c.default,{callback:()=>{if(n){let e=[...t];e.push(f),n([...e]),m(!x)}},type:"orange",children:"Добавить склад"})]})}):null]})};function m(){let[e,l]=(0,r.useState)([]),[t,o]=(0,r.useState)(0),[d,m]=(0,r.useState)(0);(0,r.useEffect)(()=>{let l=0,t=0;e.map(e=>{var s;l+=null==e?void 0:e.qnt,t+=(null==e?void 0:null===(s=e.product)||void 0===s?void 0:s.price)*(null==e?void 0:e.qnt)}),o(l),m(t)},[e]),(0,r.useEffect)(()=>{var e,t;(null===(e=window)||void 0===e?void 0:e.localStorage.getItem("products"))!=null&&l(JSON.parse(String(null===(t=window)||void 0===t?void 0:t.localStorage.getItem("products"))))},[]);let[f,p]=(0,r.useState)(["Реутов, пр. Ленина 5 к2","Москва, ул. Минина д.123","Балашиха, ул. Карла Маркса д.64"]),[b,h]=(0,r.useState)(f[0]),[v,g]=(0,r.useState)(""),[j,N]=(0,r.useState)(null);return(0,s.jsxs)("main",{className:"mt-5",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("p",{className:"font-bold font-travels text-blue text-3xl",children:"Корзина"}),(0,s.jsxs)("p",{className:"mt-4 font-bold text-2xl text-blue",children:["Выбрано ",t," товаров на сумму ",(0,s.jsxs)("span",{className:"text-orange",children:[d," рублей"]})]})]}),(0,s.jsxs)("div",{className:"grid mt-6 gap-8 grid-cols-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 items-start",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("p",{className:"text-lg text-blue font-medium",children:"Имя заказа"}),(0,s.jsx)(i.Z,{type:"text",mutateValue:v,mutateFunction:g,placeholder:"Заказ от 24.07"})]}),(0,s.jsx)("div",{className:"flex flex-col w-full",children:(0,s.jsx)(a.Z,{variants:[{value:"Самовывоз со склада на Бауманской"},{value:"Доставка на склад покупателя"}],currentValue:j,setCurrentValue:N,type:"radio",title:"Выберите способ доставки"})})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3 items-start",children:(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("p",{className:"text-lg text-blue font-medium",children:"Выберите склад для доставки"}),(0,s.jsx)(x,{current:b,mutateVariants:p,variants:[...f],mutateFunction:h})]})}),(0,s.jsx)("div",{className:"flex flex-col gap-3 items-start",children:(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsxs)("p",{className:"text-lg text-blue font-medium",children:["Стоимость доставки: ",(0,s.jsx)("strong",{children:"12599 ₽"})]}),(0,s.jsx)(c.default,{className:"h-full",type:"orange",children:"Выставить счёт на оплату"})]})})]}),(0,s.jsxs)("div",{className:"relative mt-6 scrollbar border-2 border-blue",children:[(0,s.jsxs)("div",{className:"grid grid-cols-12",children:[(0,s.jsx)("div",{className:"col-span-4 font-bold text-white border-r-2 border-white flex items-center justify-start bg-blue p-2",children:"Наименование"}),(0,s.jsx)("div",{className:"col-span-2 font-bold text-white border-r-2 border-white flex items-center justify-center bg-blue p-2",children:"Цена"}),(0,s.jsx)("div",{className:"col-span-2 font-bold text-white border-r-2 border-white flex items-center justify-center bg-blue p-2",children:"Количество"}),(0,s.jsx)("div",{className:"col-span-2 font-bold text-white border-r-2 border-white flex items-center justify-center bg-blue p-2",children:"Итого"}),(0,s.jsx)("div",{className:"col-span-2 font-bold text-white border-white flex items-center justify-center bg-blue p-2"})]}),e.map((t,r)=>{if(r<10)return(0,s.jsxs)("div",{className:"grid grid-cols-12 border-b-2 border-blue",children:[(0,s.jsx)("div",{className:"col-span-4 text-blue border-r-2 border-blue flex items-center justify-start bg-white p-2",children:(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("img",{className:"w-10 aspect-square object-cover",src:t.product.image}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("p",{className:"text-xs text-orange font-regular",children:["Артикул: ",t.product.sk]}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(u(),{href:{pathname:"/catalog/product/",query:{id:t.product.id}},children:(0,s.jsx)("p",{className:"text-lg underline text-sm text-blue font-semibold",children:t.product.name})})})]})]})}),(0,s.jsxs)("div",{className:"col-span-2 font-normal text-blue border-r-2 border-blue flex items-center justify-center bg-white p-2",children:[t.product.price," ₽/шт."]}),(0,s.jsx)("div",{className:"col-span-2 font-normal text-blue border-r-2 border-blue flex items-center justify-center bg-white p-2",children:(0,s.jsx)(n.Z,{initialValue:t.qnt,product:t.product})}),(0,s.jsxs)("div",{className:"col-span-2 font-bold text-blue border-r-2 border-blue flex items-center justify-center bg-white p-2",children:[t.product.price*t.qnt," ₽"]}),(0,s.jsx)("div",{className:"col-span-2 font-normal text-blue border-r-2 border-blue flex items-center justify-center bg-white p-2",children:(0,s.jsx)(c.default,{callback:()=>{var t;let s=[...e];s.splice(r,1),l([...s]),null===(t=window)||void 0===t||t.localStorage.setItem("products",JSON.stringify(s))},type:"orange",children:"Удалить"})})]},r)})]})]})}},8382:function(e,l,t){"use strict";var s=t(9268),r=t(6006),a=t(857);l.Z=e=>{let{variants:l,resetTrigger:t,title:i,setCurrentValue:c,currentValue:n,type:o}=e,[u,d]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{Array.isArray(n)?c([]):c(null)},[t]),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex gap-2 cursor-pointer items-center",onClick:()=>{d(!u)},children:[(0,s.jsx)("p",{className:"font-medium text-sm text-blue",children:i}),(0,s.jsx)("img",{className:(0,a.s)("w-4 duration-300 transition-all aspect-square",u?"rotate-90":"rotate-0"),src:"/images/icons/arrow_right_orange.svg"})]}),u&&"variants"==o?(0,s.jsx)("div",{className:"flex duration-300 transition-all flex-col",children:l.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon?(0,s.jsx)("img",{className:"w-5",src:e.icon}):null,(0,s.jsx)("p",{className:(0,a.s)("transition-all text-sm duration-300 font-medium",e.value==(null==n?void 0:n.value)?"text-orange":"cursor-pointer text-blue"),onClick:()=>{c(e)},children:e.value})]},e.value))}):null,u&&"radio"==o?(0,s.jsx)("div",{className:"flex duration-300 transition-all flex-col",children:l.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon?(0,s.jsx)("img",{className:"w-5",src:e.icon}):(0,s.jsx)("img",{className:"w-5",src:e.value==(null==n?void 0:n.value)?"/images/icons/radio_checked.svg":"/images/icons/radio.svg"}),(0,s.jsx)("p",{className:(0,a.s)("transition-all text-sm duration-300 font-medium",e.value==(null==n?void 0:n.value)?"text-orange":"cursor-pointer text-blue"),onClick:()=>{c(e)},children:e.value})]},e.value))}):null,u&&"multi"==o?(0,s.jsx)("div",{className:"flex duration-300 transition-all flex-col",children:l.map(e=>{let l=null==n?void 0:n.find(l=>l.value==e.value);return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[l?(0,s.jsx)("img",{className:"w-5",src:"/images/icons/checkbox_checked.svg"}):(0,s.jsx)("img",{className:"w-5",src:"/images/icons/checkbox.svg"}),(0,s.jsx)("p",{className:(0,a.s)("transition-all text-sm duration-300 font-medium",l?"text-orange cursor-pointer":"cursor-pointer text-blue"),onClick:()=>{let l=[...n],t=l.findIndex(l=>l.value==e.value);-1!=t?(l.splice(t,1),c([...l])):(l.push(e),c([...l]))},children:e.value})]},e.value)})}):null]})}},3687:function(e,l,t){"use strict";var s=t(9268),r=t(6006),a=t(283);l.Z=e=>{let{callback:l,product:t,initialValue:i}=e,[c,n]=(0,r.useState)(i||1);return(0,r.useEffect)(()=>{i&&n(i)},[i]),(0,s.jsxs)("div",{className:"flex items-center gap-5 justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"flex cursor-pointer font-bold items-center justify-center p-1 w-7 bg-orange rounded-full aspect-square",onClick:()=>{c>1&&n(Number(c)-1)},children:(0,s.jsx)("img",{className:"w-full h-full",src:"/images/icons/minus.svg"})}),(0,s.jsx)("div",{className:"w-20",children:(0,s.jsx)("input",{value:c,onChange:e=>{isNaN(Number(e.target.value))||n(Number(e.target.value))},type:"text",className:"w-full h-8 text-center placeholder:text-blue placeholder:text-opacity-50 p-3 font-semibold text-blue border-blue border-2 focus:border-orange focus:outline-0"})}),(0,s.jsx)("div",{className:"flex cursor-pointer font-bold items-center justify-center p-1 w-7 bg-orange rounded-full aspect-square",onClick:()=>{c>0&&n(Number(c)+1)},children:(0,s.jsx)("img",{className:"w-full h-full",src:"/images/icons/plus.svg"})})]}),l?(0,s.jsx)(a.default,{callback:()=>{l&&l(t,c)},type:"orange",children:"В корзину"}):null]})}},283:function(e,l,t){"use strict";t.r(l);var s=t(9268);t(6006);var r=t(857);l.default=e=>(0,s.jsx)("div",{onClick:()=>{e.callback&&e.callback()},className:(0,r.s)("flex cursor-pointer items-center justify-center font-travels font-bold py-2 px-4","orange"==e.type?"bg-orange text-white":"","white"==e.type?"bg-white border-2 border-orange text-blue":"","transparent blue"==e.type?"bg-transparent text-blue border-2 border-orange":"","transparent white"==e.type?"bg-transparent text-white border-2 border-orange":"",e.className),children:e.children})},6832:function(e,l,t){"use strict";var s=t(9268);t(6006),l.Z=e=>{let{type:l,placeholder:t,mutateFunction:r,mutateValue:a}=e;return(0,s.jsx)("input",{type:l,placeholder:t,value:void 0!=a?a:t,onChange:e=>{void 0!=a&&r(e.target.value)},className:"w-full placeholder:text-blue placeholder:text-opacity-50 p-3 font-semibold text-blue border-blue border-2 focus:border-orange focus:outline-0"})}},857:function(e,l,t){"use strict";t.d(l,{s:function(){return s}});let s=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return l.filter(Boolean).join(" ")}},5846:function(e,l,t){e.exports=t(7095)}},function(e){e.O(0,[703,253,698,744],function(){return e(e.s=7499)}),_N_E=e.O()}]);