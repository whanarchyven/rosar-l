(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7499:function(e,l,s){Promise.resolve().then(s.bind(s,8501))},8501:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return m}});var t=s(9268),r=s(6006),a=s(8382),n=s(6832),i=s(283),c=s(3687),o=s(5846),d=s.n(o),u=s(857),x=e=>{let{current:l,variants:s,mutateFunction:a,mutateVariants:c}=e,[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[f,p]=(0,r.useState)("");return(0,t.jsxs)("div",{className:"relative font-manrope font-bold text-[#004169] w-full",children:[(0,t.jsxs)("div",{className:"bg-[#F8F8FA] p-3 w-full rounded-xl drop-shadow-md flex items-center gap-2",onClick:()=>{d(!o)},children:[(0,t.jsx)("p",{children:l}),(0,t.jsx)("img",{className:(0,u.s)("w-4 duration-300 transition-all aspect-square",o?"rotate-90":""),src:"/images/icons/arrow_right_orange.svg"})]}),o?(0,t.jsxs)("div",{className:"bg-[#F8F8FA] p-3 w-full rounded-xl drop-shadow-md flex flex-col mt-3 items-center gap-2",children:[s.map((e,s)=>{if(e!=l)return(0,t.jsx)("div",{className:(0,u.s)("w-full cursor-pointer relative placeholder:text-blue placeholder:text-opacity-50 p-3 font-semibold text-blue border-[#F1F1F1] border-b-2 focus:border-orange focus:outline-0"),onClick:()=>{a(e),d(!o)},children:(0,t.jsx)("p",{children:e})},s)}),(0,t.jsxs)("div",{className:(0,u.s)("w-full gap-3 font-white flex items-center justify-center font-bold text-white cursor-pointer rounded-lg relative bg-blue p-3"),onClick:()=>{m(!x)},children:[(0,t.jsx)("p",{children:"Добавить новый склад"}),(0,t.jsx)("img",{src:"/images/icons/add_white.svg",className:"w-6 aspect-square"})]})]}):null,x?(0,t.jsx)("div",{className:"fixed z-[9999] flex items-center justify-center w-full rounded-xl h-full left-0 top-0 bg-black bg-opacity-70",children:(0,t.jsxs)("div",{className:"relative w-[600px] p-5 bg-white rounded-xl gap-5 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("p",{className:"text-blue text-3xl font-bold",children:"Добавить новый склад"}),(0,t.jsx)("img",{onClick:()=>{m(!x)},className:"w-7 cursor-pointer aspect-square",src:"/images/icons/close_orange.svg"})]}),(0,t.jsx)(n.Z,{placeholder:"Введите адрес склада",type:"text",mutateFunction:p,mutateValue:f}),(0,t.jsx)(i.default,{callback:()=>{if(c){let e=[...s];e.push(f),c([...e]),m(!x)}},type:"orange",children:"Добавить склад"})]})}):null]})};function m(){let[e,l]=(0,r.useState)([]),[s,o]=(0,r.useState)(0),[u,m]=(0,r.useState)(0);(0,r.useEffect)(()=>{let l=0,s=0;e.map(e=>{var t;l+=null==e?void 0:e.qnt,s+=(null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.price)*(null==e?void 0:e.qnt)}),o(l),m(s)},[e]),(0,r.useEffect)(()=>{var e,s;(null===(e=window)||void 0===e?void 0:e.localStorage.getItem("products"))!=null&&l(JSON.parse(String(null===(s=window)||void 0===s?void 0:s.localStorage.getItem("products"))))},[]);let[f,p]=(0,r.useState)(["Реутов, пр. Ленина 5 к2","Москва, ул. Минина д.123","Балашиха, ул. Карла Маркса д.64"]),[g,h]=(0,r.useState)(f[0]),[v,b]=(0,r.useState)(""),[j,N]=(0,r.useState)(null);return(0,t.jsxs)("main",{className:"mt-5",children:[(0,t.jsx)("p",{className:"font-bold font-manrope text-white mb-8 text-4xl",children:"Корзина"}),(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-6 p-4 items-start rounded-xl p-6 drop-shadow-lg bg-white",children:[(0,t.jsxs)("div",{className:"relative col-span-4 scrollbar ",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 px-2 bg-[#F8F8FA] rounded-xl font-manrope",children:[(0,t.jsx)("div",{className:"col-span-3 font-bold text-[#004169] flex items-center justify-start p-2",children:"Наименование"}),(0,t.jsx)("div",{className:"col-span-2 font-bold text-[#004169] flex items-center justify-center p-2",children:"Цена"}),(0,t.jsx)("div",{className:"col-span-2 font-bold text-[#004169] flex items-center justify-center p-2",children:"О товаре"}),(0,t.jsx)("div",{className:"col-span-3 font-bold text-[#004169] flex items-center justify-center p-2",children:"Количество"}),(0,t.jsx)("div",{className:"col-span-2 font-bold text-[#004169] flex items-center justify-center p-2"})]}),e.map((s,r)=>{if(r<10)return(0,t.jsxs)("div",{className:"grid grid-cols-12 border-b-2 border-[#F1F1F1]",children:[(0,t.jsx)("div",{className:"col-span-3 text-blue border-r-2 border-[#F1F1F1] flex items-center justify-start bg-white p-2",children:(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("img",{className:"w-12 aspect-square object-cover",src:s.product.image}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"flex gap-2 items-center",children:(0,t.jsx)("p",{className:"text-md font-manrope text-black font-semibold",children:s.product.name})}),(0,t.jsxs)("p",{className:"text-sm font-manrope text-[#004169] font-regular",children:["Артикул: ",s.product.sk]})]})]})}),(0,t.jsxs)("div",{className:"font-manrope col-span-2 font-bold text-black border-r-2 border-[#F1F1F1] flex items-center justify-center bg-white p-2",children:[s.product.price," ₽/шт."]}),(0,t.jsx)("div",{className:"col-span-2 font-bold text-blue border-r-2 border-[#F1F1F1] flex items-center justify-center bg-white p-2",children:(0,t.jsx)(d(),{href:"/catalog/".concat(s.id),children:(0,t.jsx)("p",{className:"text-md font-manrope underline text-[#004169] font-semibold",children:"Подробнее"})})}),(0,t.jsx)("div",{className:"col-span-3 font-bold text-blue border-[#F1F1F1] flex items-center justify-center bg-white",children:(0,t.jsx)(c.Z,{initialValue:s.qnt,product:s.product})}),(0,t.jsx)("div",{className:"col-span-2 font-normal text-blue border-r-2 border-[#F1F1F1] flex items-center justify-center bg-white p-2",children:(0,t.jsx)(i.default,{callback:()=>{var s;let t=[...e];t.splice(r,1),l([...t]),null===(s=window)||void 0===s||s.localStorage.setItem("products",JSON.stringify(t))},type:"orange",children:"Удалить"})})]},r)})]}),(0,t.jsxs)("div",{className:"grid col-span-2 gap-8 grid-cols-1",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 items-start",children:[(0,t.jsx)("p",{className:"uppercase font-extrabold text-3xl font-manrope ",children:"Итого:"}),(0,t.jsxs)("p",{className:"font-bold text-xl font-manrope ",children:["Выбрано ",s," товаров на сумму ",u," рублей 00 коп."]}),(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsx)("p",{className:"text-lg text-black font-bold font-manrope",children:"Имя заказа"}),(0,t.jsx)(n.Z,{type:"text",mutateValue:v,mutateFunction:b,placeholder:"Заказ от 24.07"})]}),(0,t.jsx)("div",{className:"flex flex-col w-full",children:(0,t.jsx)(a.Z,{variants:[{value:"Самовывоз со склада на Бауманской"},{value:"Доставка на склад покупателя"}],currentValue:j,setCurrentValue:N,type:"radio",title:"Выберите способ доставки"})})]}),(0,t.jsx)("div",{className:"flex flex-col gap-3 items-start",children:(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsx)("p",{className:"text-lg text-blue font-medium",children:"Выберите склад для доставки"}),(0,t.jsx)(x,{current:g,mutateVariants:p,variants:[...f],mutateFunction:h})]})}),(0,t.jsx)("div",{className:"flex flex-col gap-3 items-start",children:(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsxs)("p",{className:"text-lg text-blue font-medium",children:["Стоимость доставки: ",(0,t.jsx)("strong",{children:"12599 ₽"})]}),(0,t.jsx)(i.default,{className:"h-full",type:"orange",children:"Выставить счёт на оплату"})]})})]})]})]})}},8382:function(e,l,s){"use strict";var t=s(9268),r=s(6006),a=s(857);l.Z=e=>{let{variants:l,resetTrigger:s,title:n,setCurrentValue:i,currentValue:c,type:o}=e,[d,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{Array.isArray(c)?i([]):i(null)},[s]),(0,t.jsxs)("div",{className:"flex font-manrope flex-col",children:[(0,t.jsxs)("div",{className:"flex gap-2 cursor-pointer items-center",onClick:()=>{u(!d)},children:[(0,t.jsx)("p",{className:"font-medium text-sm text-blue",children:n}),(0,t.jsx)("img",{className:(0,a.s)("w-4 duration-300 transition-all aspect-square",d?"rotate-90":"rotate-0"),src:"/images/icons/arrow_right_orange.svg"})]}),d&&"variants"==o?(0,t.jsx)("div",{className:"flex duration-300 transition-all flex-col",children:l.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon?(0,t.jsx)("img",{className:"w-5",src:e.icon}):null,(0,t.jsx)("p",{className:(0,a.s)("transition-all text-sm duration-300 font-medium",e.value==(null==c?void 0:c.value)?"text-orange":"cursor-pointer text-blue"),onClick:()=>{i(e)},children:e.value})]},e.value))}):null,d&&"radio"==o?(0,t.jsx)("div",{className:"flex duration-300 transition-all flex-col",children:l.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon?(0,t.jsx)("img",{className:"w-5",src:e.icon}):(0,t.jsx)("img",{className:"w-5",src:e.value==(null==c?void 0:c.value)?"/images/icons/radio_checked.svg":"/images/icons/radio.svg"}),(0,t.jsx)("p",{className:(0,a.s)("transition-all text-sm duration-300 font-medium",e.value==(null==c?void 0:c.value)?"text-orange":"cursor-pointer text-blue"),onClick:()=>{i(e)},children:e.value})]},e.value))}):null,d&&"multi"==o?(0,t.jsx)("div",{className:"flex duration-300 transition-all flex-col",children:l.map(e=>{let l=null==c?void 0:c.find(l=>l.value==e.value);return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l?(0,t.jsx)("img",{className:"w-5",src:"/images/icons/checkbox_checked.svg"}):(0,t.jsx)("img",{className:"w-5",src:"/images/icons/checkbox.svg"}),(0,t.jsx)("p",{className:(0,a.s)("transition-all text-sm duration-300 font-medium",l?"text-orange cursor-pointer":"cursor-pointer text-blue"),onClick:()=>{let l=[...c],s=l.findIndex(l=>l.value==e.value);-1!=s?(l.splice(s,1),i([...l])):(l.push(e),i([...l]))},children:e.value})]},e.value)})}):null]})}},3687:function(e,l,s){"use strict";var t=s(9268),r=s(6006),a=s(283),n=s(857);l.Z=e=>{let{callback:l,product:s,initialValue:i}=e,[c,o]=(0,r.useState)(i||1);return(0,r.useEffect)(()=>{i&&o(i)},[i]),(0,t.jsxs)("div",{className:(0,n.s)("w-full h-full grid",l?"grid-cols-4":"grid-cols-2"),children:[(0,t.jsxs)("div",{className:"flex gap-3 p-2 border-r-2 border-[#F1F1F1] justify-center col-span-2 items-center",children:[(0,t.jsx)("div",{className:"flex cursor-pointer font-bold items-center justify-center p-2 w-7 border-2 border-[#E6E6E6] rounded-full aspect-square",onClick:()=>{c>1&&o(Number(c)-1)},children:(0,t.jsx)("img",{className:"w-full h-full",src:"/images/icons/minus.svg"})}),(0,t.jsx)("div",{className:"w-20",children:(0,t.jsx)("input",{value:c,onChange:e=>{isNaN(Number(e.target.value))||o(Number(e.target.value))},type:"text",className:"w-full h-8 text-center placeholder:text-blue placeholder:text-opacity-50 p-3 font-semibold text-blue border-[#E6E6E6] rounded-lg border-2 focus:border-orange focus:outline-0"})}),(0,t.jsx)("div",{className:"flex cursor-pointer font-bold items-center justify-center p-2 w-7 border-2 border-[#E6E6E6] rounded-full aspect-square",onClick:()=>{c>0&&o(Number(c)+1)},children:(0,t.jsx)("img",{className:"w-full h-full",src:"/images/icons/plus.svg"})})]}),l?(0,t.jsx)("div",{className:"col-span-2 p-4",children:(0,t.jsx)(a.default,{callback:()=>{l&&l(s,c)},type:"orange",children:"В корзину"})}):null]})}},283:function(e,l,s){"use strict";s.r(l);var t=s(9268);s(6006);var r=s(857);l.default=e=>(0,t.jsx)("div",{onClick:()=>{e.callback&&e.callback()},className:(0,r.s)("flex px-6 items-center justify-center p-3 text-xs rounded-lg cursor-pointer font-manrope font-bold","orange"==e.type?"bg-orange text-white":"","white"==e.type?"bg-white border-2 border-orange text-orange":"","transparent blue"==e.type?"bg-transparent text-blue border-2 border-orange":"","transparent white"==e.type?"bg-transparent text-white border-2 border-orange":"",e.className),children:e.children})},6832:function(e,l,s){"use strict";var t=s(9268);s(6006),l.Z=e=>{let{type:l,placeholder:s,mutateFunction:r,mutateValue:a,icon:n}=e;return n?(0,t.jsxs)("div",{className:"bg-[#F8F8FA] px-3 w-full rounded-xl drop-shadow-md flex items-center gap-2",children:[(0,t.jsx)("img",{src:n}),(0,t.jsx)("input",{type:l,placeholder:s,value:void 0!=a?a:s,onChange:e=>{void 0!=a&&r(e.target.value)},className:"font-manrope w-full placeholder:text-blue  placeholder:text-opacity-50 p-3 bg-transparent font-semibold text-blue focus:border-orange focus:outline-0"})]}):(0,t.jsx)("input",{type:l,placeholder:s,value:void 0!=a?a:s,onChange:e=>{void 0!=a&&r(e.target.value)},className:"font-manrope w-full rounded-xl placeholder:text-blue bg-[#F8F8FA] drop-shadow-md placeholder:text-opacity-50 p-3 font-semibold text-blue focus:border-orange focus:outline-0"})}},857:function(e,l,s){"use strict";s.d(l,{s:function(){return t}});let t=function(){for(var e=arguments.length,l=Array(e),s=0;s<e;s++)l[s]=arguments[s];return l.filter(Boolean).join(" ")}},5846:function(e,l,s){e.exports=s(7095)}},function(e){e.O(0,[703,253,698,744],function(){return e(e.s=7499)}),_N_E=e.O()}]);